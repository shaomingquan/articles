---
date: 2022-04-13
tags: 思考
---

大部分的优化思路，都会落在三个要素上：

- 时间
- 空间
- 算法

> 了解当前瓶颈，是否有好的算法能解决？是否能用时间（空间）来交换

## 空间换时间

最常见的优化方式，常见的：

- hashMap，跳表等数据结构
- 数据库索引
- http缓存

## 时间换空间

有时候时间也会换空间，做过实时计算的应该深有体会：

- 实时计算：原始日志太大，不方便全部都保存，会存在一个滚动清理的队列，实时计算把这些东西经过计算，浓缩成一些有用的数据
- 离线计算：利用半夜的时间，产出前一天报表
- 各类压缩算法：增加了压缩和解压的时间

## 让算法突破时空限制

好的算法是一本万利的，不必对空间时间进行取舍

- 去json：json真是比较out了，客户端对于二进制的处理能力在提示，二进制格式或将碾压json。占带宽小了，解析速度快了
- webp：同等品质下占更小的空间。占内存小了，加载也快了
- http2：二进制，优秀。更快，并发更高，传输量也更小

> 像是在leetcode中，很多的算法题的最优解法都是要求空间复杂度是`O(1)`的，这类题往往都有一个空间复杂度是`O(n)`的快捷解法，在时间复杂度相同的前提下，空间复杂度越小越好。

## 时空换可用性

> 这几篇只讨论性能，这块简单提一下

- 冗余备份：空间换可用性
- 请求重试：时间换可用性
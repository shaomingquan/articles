## 背景

旧的机器要回收了，公司的运维给加了新机器，需要把服务迁过去。

### 1，排查老机器上的服务

如果总是使用某个可执行文件启动服务，使用`pgrep`即可，`pgrep node`查看所有nodejs服务。

更彻底的排查，如果不是root权限，使用`ps -u xxx`查看当前用户用户启动的进程，然后排查。

### 2，测试新机器上的新服务

一般来讲程序本身不会有问题，主要是梳理依赖，上游和下游都要通。

如果是http服务，需要通过修改host或者走浏览器代理去测试新服务。

### 3，切换并doubleCheck

请运维同学切换域名流量到新服务。暂停老服务check一下，没问题证明切换成功了。
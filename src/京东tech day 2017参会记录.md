---
date: 2017-12-14
tags: 思考
---

会议ppt集合 [https://mp.weixin.qq.com/s/basb3q1T-ZoEPTLlpbdkPA](https://mp.weixin.qq.com/s/basb3q1T-ZoEPTLlpbdkPA)。

#### 第一讲

百度的同学。他分享了一个活动运营平台。内容与组件分离，这个思想很好，思想有点类似接口，只要组件你实现了我内容的格式，那么内容便可展示到组件上。使用git管理组件版本，自己做版本控制有点难，且做不好。提供两种级别的发布，内容发布，更新组件的内容依赖，全量发布，更新所有组件，这样做坏处是非直出页面依赖网络，网络越多越靠不住。古老的hack，利用函数里面放注释的方法来做模板，利用函数保留原始定义，以及注释不参与httpparse（以及某大佬还提到了textarea中的html也不会参与解析）。

提到了百度这边也有统一容器commonBridge了，比我想象中的要慢。提到自研的htmlnative对标RN。还提到fis目前的不足，不过还是在用。后面有提到了百度的san框架，是百度级别最高的前端研发的。

#### 第二讲

京东金融的同学了。分享他们的一套研发闭环，死板但有效，让我想起一些我过去经历过的以及现在正在苗对的问题。从项目的初始化，开发，编译，上线，回归，每个流程都有很多规矩，防止犯错误，以及**甩锅的准备**。

先提到了日志和监控，一般来讲要发布日志的话需要公司有发布系统，运行日志的话，考虑现在一般都是多实例集群模式，那一般就要有日志中心来汇总数据。还有几个印象深刻的点，比如对代码进行安全扫描，虽然我也不知道如何操作，上线前对cookie冲突的判断。最深刻的一点是，给测试包打上测试通过标记，甩锅教程。异地的cdn测试的想法也很棒。

#### 第三讲

美团点评的同学。修饰符来定路由这种方式很骚，依赖注入为注入项定接口，而不考虑service具体如何提供，比如express的query与koa的query获取方法不一样，把这个不同放在别的地方，更专注与业务逻辑。提到了中间件配置这个生命周期，实际上初始化的时候当然要配置，只不过配置这次与主逻辑解耦了，配置只与中间件有关。

还讲了一些关于“道”的事，比如免配置运行，像[https://www.zhihu.com/question/263676981](https://www.zhihu.com/question/263676981)，对比webpack的配置。架构越散，对人员能力要求越高。

但是至于promise不用bluebird以及为什么自己做cluster而不用pm2，我需要再跟他讨论下。

#### 第四讲

腾讯深圳的同学。首先对比了h5+jsbridge, RN, native，又对比类RN方案的一些区别，典型的垂直到水平比较。性能优化的经验不错，总体原则是分开打包，减少每次请求包的体积，能并行的并行，能懒加载的懒加载，减少跨进程交互。其中listView的优化比较精彩，首先是不展示的不用生成，复用结构，这跟当时刚学js时把轮播图的最后一张抽到最开始的位置，这样不用重复创建dom（甚至用样式控制位置，dom的位置都不用变），RN一个道理。

我也有一些问题，如为什么不主动推包，在后台进程接收？

#### 第五讲

京东深圳凹凸实验室的同学。唯一顶着技术品牌来的，东西也挺不错，一个叫nerv的框架，说实话我看到这个名字我有点焦虑（nervous），核心算法[https://github.com/NervJS/nerv/issues/3](https://github.com/NervJS/nerv/issues/3)。我对前端框架的要求就是生态要稳，速度不慢（也不一定要最快），用着舒服，**网上解答最全**。要是做一项业务开发，绝对不要让过多的需要hack方式（比如查看源代码）解决问题困扰自己。所以我选择react。

#### 第六讲

讲关于重构的事，穿插业务技术与自己的设计，个人认为讲得并不是很好。

#### tips

- 几个人提到三端统一的实践。
- 有一些新轮子。
- 各个厂的活动编辑器貌似不够统一，可能是厂太大了。


---
date: 2020-11-02
tags: 软件
---

在看bff相关资料的时候了解到的点，搜了一下 https://docs.microsoft.com/zh-cn/azure/architecture/patterns/strangler

> 通过将特定的功能片断逐渐取代为新的应用程序和服务，逐步迁移旧系统。 随着旧系统的功能被替换，新系统最终将取代旧系统的所有功能，抑制旧系统并使其停用。

简单来讲就是加一个绞杀者层，通过灰度的方式将流量分批迁入新服务，最终移除绞杀者。绞杀者可轻可重：

- 灰度开关
- 一个服务（BFF等）

主要看想迁移的具体组件是啥。

- 迁移一个策略，也就一个灰度开关就行。
- 迁移到另一个完整的服务，就要加一个服务了，或者已经有一个可编程的proxy那就不用麻烦了。

为啥有人会在BFF的文章中提到绞杀者模式呢？BFF实际上顺带着把这个事实现了，因为它本质上也是一个中间层。绞杀者这玩意听着挺牛逼，也只是说把我们日常开发中的做法找个名词罢了，不过确实很生动。

微软这里提了一些其他的云设计模式，后续再看看 https://docs.microsoft.com/zh-cn/azure/architecture/patterns/


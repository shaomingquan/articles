> 最初，hash在我眼中是个神秘的词汇。当工作场景一点一点积累起来的时候，我深刻的感觉到了hash的强大。我将通俗易懂的讲解hash的一些应用场景，也欢迎大家补充。

#### 加密一下密码

我在大二的时候，做的一个项目用户的密码是hash过再存到数据库的，要考虑**hash算法的安全性**，如有人会算很多的[md5用做破解](http://cmd5.cn/)，并且限制用户的密码格式，必须超过多少位含有特殊字符，这样明文**被拦截也没有用**。

#### 一致性hash

##### 多实例情况下的用户内存级session问题

在负载均衡层将用户的唯一id做hash，因为每次hash都是一样的，所以可以让用户的流量每次都打到一个节点上。当然，这种方案在大体量的网站下并不适用。

##### 避免热点

如在redis中key为k这个有序数列产生了redis集群中的热点，那么用k:0~k:50这五十个key将**流量打散**。

#### 业务需要

##### 简易去重服务集群

因为要计算去重后的数据，那么同一个key要发送到同一个节点上，发送到多个几点则会重算，这时需要hash。

##### 实时计算

在实时计算中我们可能需要把相同特征的数据发送到同一个节点上，比如计算苹果和香蕉的数量，那么所有苹果都要发送到同一个节点，这时需要hash。

#### 提高缓存命中率

例如对于每个项目，缓存一个page，那么把相同的项目发送到相同的节点，这个项目的缓存也就仅此一份儿。**hash的策略可以优化缓存对项目内存的消耗**。

#### 资源完整性

##### 子资源完整性

通过计算资源的hash，保证在**使用时的资源与最后编辑时的资源一致**，如npm，git，以及web中，见[MDN子资源完整性](https://developer.mozilla.org/zh-CN/docs/Web/Security/%E5%AD%90%E8%B5%84%E6%BA%90%E5%AE%8C%E6%95%B4%E6%80%A7)。